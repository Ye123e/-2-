# Android系统修复工具 - 用户使用指南

## 目录
1. [软件介绍](#软件介绍)
2. [系统要求](#系统要求)
3. [安装配置](#安装配置)
4. [设备连接](#设备连接)
5. [功能使用](#功能使用)
6. [故障排除](#故障排除)
7. [常见问题](#常见问题)
8. [技术支持](#技术支持)

---

## 软件介绍

Android系统修复工具是一款专业的Android设备维护软件，提供以下核心功能：

- **设备管理**: 自动检测和连接Android设备
- **系统诊断**: 全面的系统健康检查
- **病毒扫描**: 检测和清除恶意软件
- **文件清理**: 清理垃圾文件释放存储空间
- **资源修复**: 修复丢失的系统文件
- **一键修复**: 自动化修复常见问题

---

## 系统要求

### 运行环境
- **操作系统**: Windows 10/11, Linux, macOS
- **Python版本**: 3.8 或更高版本
- **内存**: 至少 2GB RAM
- **存储空间**: 至少 1GB 可用空间
- **网络**: 可选，用于更新病毒库和在线功能

### 必需组件
- **Python 3.8+**: [下载地址](https://www.python.org/downloads/)
- **Android SDK Platform Tools**: [下载地址](https://developer.android.com/studio/releases/platform-tools)
- **Android设备驱动**: 确保设备能被电脑识别

---

## 安装配置

### 步骤1: 安装Python
1. 访问 [Python官网](https://www.python.org/downloads/)
2. 下载适合您系统的Python 3.8+版本
3. 安装时勾选"Add Python to PATH"
4. 验证安装: 打开命令提示符，输入 `python --version`

### 步骤2: 安装项目依赖
```bash
# 在项目目录下执行
pip install -r requirements.txt
```

### 步骤3: 配置ADB工具
#### 方式1: 安装Android Studio (推荐)
1. 下载并安装 [Android Studio](https://developer.android.com/studio)
2. SDK将自动安装到默认位置

#### 方式2: 单独下载Platform Tools
1. 下载 [SDK Platform Tools](https://developer.android.com/studio/releases/platform-tools)
2. 解压到合适目录 (如 `C:\android-sdk\platform-tools`)
3. 将该目录添加到系统环境变量PATH中

#### 验证ADB安装
```bash
adb version
```
应该显示ADB版本信息。

### 步骤4: 启动程序
```bash
python main.py
```

---

## 设备连接

### 准备Android设备

#### 1. 启用开发者选项
1. 进入 **设置** → **关于手机**
2. 连续点击 **版本号** 7次
3. 返回设置菜单，找到 **开发者选项**

#### 2. 启用USB调试
1. 进入 **开发者选项**
2. 开启 **USB调试** 开关
3. 开启 **USB安装** (可选)

#### 3. 连接设备
1. 使用数据线连接设备到电脑
2. 在设备上允许USB调试权限
3. 确保选择"传输文件"模式

### 在软件中连接设备

1. 启动Android系统修复工具
2. 切换到 **设备连接** 标签页
3. 点击 **刷新设备** 按钮
4. 从列表中选择您的设备
5. 点击 **连接设备** 按钮
6. 等待连接成功提示

### 连接状态指示
- 🟢 **已连接**: 设备正常连接，可以进行操作
- 🟡 **连接中**: 正在建立连接
- 🔴 **未连接**: 设备未连接或连接失败
- ⚪ **未检测**: 未检测到设备

---

## 功能使用

### 系统诊断

#### 快速诊断
1. 确保设备已连接
2. 切换到 **系统诊断** 标签页
3. 选择要执行的诊断项目:
   - ✅ **存储空间检查**: 分析存储使用情况
   - ✅ **系统文件检查**: 验证核心系统文件
   - ✅ **资源扫描**: 检查系统资源完整性
   - ✅ **病毒扫描**: 扫描恶意软件
   - ✅ **错误文件检查**: 查找损坏文件
4. 点击 **开始诊断** 按钮
5. 等待诊断完成，查看结果

#### 诊断报告解读
- **正常** 🟢: 项目状态良好
- **警告** 🟡: 发现问题但不严重
- **错误** 🔴: 发现需要修复的问题
- **未检测** ⚪: 无法检测该项目

### 修复操作

#### 一键修复 (推荐)
1. 完成系统诊断
2. 切换到 **修复操作** 标签页
3. 点击 **一键修复** 按钮
4. 确认修复操作
5. 等待修复完成

#### 单项修复
- **清理缓存**: 清理应用缓存和临时文件
- **修复权限**: 恢复系统文件权限
- **病毒清除**: 隔离和删除恶意软件
- **资源修复**: 恢复丢失的系统资源

### 高级功能

#### 备份设置
1. 进入设置菜单
2. 启用 **修复前备份**
3. 设置备份保留数量
4. 选择备份存储位置

#### 日志查看
1. 切换到 **日志查看** 标签页
2. 查看实时操作日志
3. 使用过滤功能查找特定信息
4. 导出日志文件供技术支持使用

---

## 故障排除

### 常见启动问题

#### 问题1: "缺少必要组件"错误
**症状**: 程序启动时提示缺少Python模块

**解决方案**:
```bash
# 重新安装依赖包
pip install -r requirements.txt

# 或者手动安装缺失的包
pip install adb-shell requests psutil
```

#### 问题2: "找不到ADB工具"错误
**症状**: 程序无法检测到ADB工具

**解决方案**:
1. 确认ADB已正确安装
2. 将ADB路径添加到环境变量
3. 在程序设置中手动指定ADB路径

#### 问题3: 权限不足错误
**症状**: 无法创建日志文件或配置文件

**解决方案**:
1. 以管理员身份运行程序
2. 检查程序目录的写权限
3. 临时禁用杀毒软件

### 设备连接问题

#### 问题1: 设备未检测到
**检查清单**:
- [ ] USB调试已启用
- [ ] 使用原装或优质数据线
- [ ] 尝试不同的USB端口
- [ ] 重启设备和电脑
- [ ] 更新设备驱动程序

#### 问题2: 连接后立即断开
**可能原因及解决方案**:
- **设备锁屏**: 解锁设备并保持屏幕常亮
- **USB供电不足**: 使用USB 2.0端口或外接电源
- **驱动冲突**: 卸载并重新安装设备驱动

#### 问题3: 授权提示不出现
**解决步骤**:
1. 撤销之前的USB调试授权
2. 进入开发者选项 → 撤销USB调试授权
3. 重新连接设备
4. 在弹出提示时点击允许

### 操作异常问题

#### 问题1: 诊断卡死不动
**解决方案**:
1. 等待2-3分钟（大型设备需要更长时间）
2. 检查设备是否进入休眠
3. 重启程序并重试
4. 减少同时诊断的项目数量

#### 问题2: 修复操作失败
**检查事项**:
- 设备是否有足够存储空间
- 设备是否获得root权限（某些修复需要）
- 网络连接是否正常
- 杀毒软件是否阻止操作

---

## 常见问题

### Q1: 程序支持哪些Android版本？
**A**: 支持Android 4.4以上的所有版本，推荐Android 8.0以上获得最佳体验。

### Q2: 修复操作是否安全？
**A**: 是的，程序在修复前会自动创建备份，并且只修复已验证安全的项目。

### Q3: 为什么某些功能需要root权限？
**A**: 系统级修复操作需要更高权限，但大部分功能无需root即可使用。

### Q4: 能否同时连接多台设备？
**A**: 当前版本支持一次连接一台设备，未来版本将支持多设备管理。

### Q5: 病毒库多久更新一次？
**A**: 在联网状态下，病毒库每周自动更新一次。

### Q6: 如何备份重要数据？
**A**: 程序会自动备份修改的系统文件，但建议手动备份重要个人数据。

---

## 错误代码参考

| 错误代码 | 错误描述 | 解决方案 |
|---------|---------|---------|
| ERR_001 | 缺少必要组件 | 安装Python依赖包 |
| ERR_002 | 找不到程序模块 | 重新安装程序 |
| ERR_003 | 文件或目录不存在 | 检查程序完整性 |
| ERR_004 | 权限不足 | 以管理员身份运行 |
| ERR_005 | 网络连接失败 | 检查网络连接 |
| ERR_006 | ADB连接失败 | 检查设备连接和ADB配置 |
| ERR_007 | 配置文件错误 | 重置配置文件 |
| ERR_008 | 内存不足 | 关闭其他程序释放内存 |

---

## 技术支持

### 获取帮助
1. **查看日志**: 程序目录下的 `logs` 文件夹
2. **导出诊断信息**: 在帮助菜单中选择"导出诊断信息"
3. **联系支持**: 提供错误日志和详细问题描述

### 反馈渠道
- **问题反馈**: 通过GitHub Issues报告bug
- **功能建议**: 通过邮件或论坛提交建议
- **使用交流**: 加入用户交流群

### 更新说明
- **自动更新**: 程序会提示可用更新
- **手动更新**: 下载新版本覆盖安装
- **配置兼容**: 更新时会保留现有配置

---

## 附录

### 键盘快捷键
- `Ctrl + R`: 刷新设备列表
- `Ctrl + D`: 开始诊断
- `Ctrl + F`: 一键修复
- `Ctrl + L`: 打开日志窗口
- `F5`: 刷新当前页面
- `F1`: 打开帮助

### 命令行参数
```bash
python main.py [选项]

选项:
  --config FILE     指定配置文件路径
  --log-level LEVEL 设置日志级别 (DEBUG/INFO/WARNING/ERROR)
  --no-gui          无GUI模式运行
  --help            显示帮助信息
```

### 配置文件说明
主配置文件位于 `config.ini`，包含以下部分：
- `[app]`: 应用基本设置
- `[logging]`: 日志配置
- `[adb]`: ADB连接设置
- `[security]`: 安全扫描配置
- `[ui]`: 界面设置

---

*本指南最后更新时间: 2024年8月*
*如有问题或建议，请联系技术支持团队*